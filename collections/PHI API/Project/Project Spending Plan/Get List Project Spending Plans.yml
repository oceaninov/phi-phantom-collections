info:
  name: Get List Project Spending Plans
  type: http
  seq: 2

http:
  method: GET
  url: "{{base_url}}/api/v1/projects/spending-plan?project_id=3e1d9eeb-6e27-4d9e-8e5c-c28ae48ac7a3&rkap_id=d3aa9d73-5656-48ff-a57c-c489c1bce708&sort_column=date&sort_order=ASC"
  params:
    - name: project_id
      value: 3e1d9eeb-6e27-4d9e-8e5c-c28ae48ac7a3
      type: query
    - name: rkap_id
      value: d3aa9d73-5656-48ff-a57c-c489c1bce708
      type: query
    - name: sort_column
      value: date
      type: query
      description: |-
        id
        project_id
        rkap_id
        date
        plan_cost
        actual_cost
        remarks
        created_at
        created_by
    - name: sort_order
      value: ASC
      type: query
      description: |-
        ASC
        DESC
  auth:
    type: bearer
    token: "{{access_token}}"

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5

examples:
  - name: success
    request:
      url: "{{base_url}}/api/v1/projects/spending-plans?project_id=291f25a9-43c7-46e4-bef2-048cfc5c3698&rkap_id=2c6ee92d-5427-4253-b5da-891ed0b6f5fb&sort_column=date&sort_order=ASC"
      method: GET
      params:
        - name: project_id
          value: 291f25a9-43c7-46e4-bef2-048cfc5c3698
          type: query
        - name: rkap_id
          value: 2c6ee92d-5427-4253-b5da-891ed0b6f5fb
          type: query
        - name: sort_column
          value: date
          type: query
        - name: sort_order
          value: ASC
          type: query
    response:
      statusText: "200"
      headers:
        - name: Content-Type
          value: application/json
      body:
        type: json
        data: "{\r

          \    \"process_time\": \"38ms\",\r

          \    \"status\": \"success\",\r

          \    \"code\": \"\",\r

          \    \"message\": \"Get projectSpendingPlans succeed\",\r

          \    \"data\": {\r

          \        \"list\": [\r

          \            {\r

          \                \"id\": \"366f3196-16e3-45d0-a6e5-885714129a1b\",\r

          \                \"project_id\": \"291f25a9-43c7-46e4-bef2-048cfc5c3698\",\r

          \                \"rkap_id\": \"2c6ee92d-5427-4253-b5da-891ed0b6f5fb\",\r

          \                \"date\": \"01-01-2023 00:00:00\",\r

          \                \"plan_cost\": 10,\r

          \                \"actual_cost\": 0,\r

          \                \"remarks\": \"\",\r

          \                \"created_at\": \"15-09-2023 13:17:30\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                },\r

          \                \"updated_at\": \"15-09-2023 13:42:00\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                }\r

          \            },\r

          \            {\r

          \                \"id\": \"dfa5fc39-938d-4098-abd9-116687a52207\",\r

          \                \"project_id\": \"291f25a9-43c7-46e4-bef2-048cfc5c3698\",\r

          \                \"rkap_id\": \"2c6ee92d-5427-4253-b5da-891ed0b6f5fb\",\r

          \                \"date\": \"01-02-2023 00:00:00\",\r

          \                \"plan_cost\": 0,\r

          \                \"actual_cost\": 0,\r

          \                \"remarks\": \"\",\r

          \                \"created_at\": \"15-09-2023 13:17:30\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                },\r

          \                \"updated_at\": \"15-09-2023 13:17:30\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                }\r

          \            },\r

          \            {\r

          \                \"id\": \"b12d463d-8899-4004-b7b2-3a95ae762694\",\r

          \                \"project_id\": \"291f25a9-43c7-46e4-bef2-048cfc5c3698\",\r

          \                \"rkap_id\": \"2c6ee92d-5427-4253-b5da-891ed0b6f5fb\",\r

          \                \"date\": \"01-03-2023 00:00:00\",\r

          \                \"plan_cost\": 0,\r

          \                \"actual_cost\": 0,\r

          \                \"remarks\": \"\",\r

          \                \"created_at\": \"15-09-2023 13:17:30\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                },\r

          \                \"updated_at\": \"15-09-2023 13:17:30\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                }\r

          \            },\r

          \            {\r

          \                \"id\": \"bd04ab90-4bf3-4c4c-945b-68348986e904\",\r

          \                \"project_id\": \"291f25a9-43c7-46e4-bef2-048cfc5c3698\",\r

          \                \"rkap_id\": \"2c6ee92d-5427-4253-b5da-891ed0b6f5fb\",\r

          \                \"date\": \"01-04-2023 00:00:00\",\r

          \                \"plan_cost\": 0,\r

          \                \"actual_cost\": 0,\r

          \                \"remarks\": \"\",\r

          \                \"created_at\": \"15-09-2023 13:17:30\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                },\r

          \                \"updated_at\": \"15-09-2023 13:17:30\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                }\r

          \            },\r

          \            {\r

          \                \"id\": \"be10c20d-382b-4758-b968-4be5b3a8fb75\",\r

          \                \"project_id\": \"291f25a9-43c7-46e4-bef2-048cfc5c3698\",\r

          \                \"rkap_id\": \"2c6ee92d-5427-4253-b5da-891ed0b6f5fb\",\r

          \                \"date\": \"01-05-2023 00:00:00\",\r

          \                \"plan_cost\": 0,\r

          \                \"actual_cost\": 0,\r

          \                \"remarks\": \"\",\r

          \                \"created_at\": \"15-09-2023 13:17:30\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                },\r

          \                \"updated_at\": \"15-09-2023 13:17:30\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                }\r

          \            },\r

          \            {\r

          \                \"id\": \"c76e90df-0165-4f11-9374-16d5e62dcec2\",\r

          \                \"project_id\": \"291f25a9-43c7-46e4-bef2-048cfc5c3698\",\r

          \                \"rkap_id\": \"2c6ee92d-5427-4253-b5da-891ed0b6f5fb\",\r

          \                \"date\": \"01-06-2023 00:00:00\",\r

          \                \"plan_cost\": 0,\r

          \                \"actual_cost\": 0,\r

          \                \"remarks\": \"\",\r

          \                \"created_at\": \"15-09-2023 13:17:30\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                },\r

          \                \"updated_at\": \"15-09-2023 13:17:30\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                }\r

          \            },\r

          \            {\r

          \                \"id\": \"a898f4ab-2a9d-498a-9a91-f2a558d63588\",\r

          \                \"project_id\": \"291f25a9-43c7-46e4-bef2-048cfc5c3698\",\r

          \                \"rkap_id\": \"2c6ee92d-5427-4253-b5da-891ed0b6f5fb\",\r

          \                \"date\": \"01-07-2023 00:00:00\",\r

          \                \"plan_cost\": 0,\r

          \                \"actual_cost\": 0,\r

          \                \"remarks\": \"\",\r

          \                \"created_at\": \"15-09-2023 13:17:30\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                },\r

          \                \"updated_at\": \"15-09-2023 13:17:30\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                }\r

          \            },\r

          \            {\r

          \                \"id\": \"faf309bb-8a4a-4320-98c5-f8856cfe7959\",\r

          \                \"project_id\": \"291f25a9-43c7-46e4-bef2-048cfc5c3698\",\r

          \                \"rkap_id\": \"2c6ee92d-5427-4253-b5da-891ed0b6f5fb\",\r

          \                \"date\": \"01-08-2023 00:00:00\",\r

          \                \"plan_cost\": 0,\r

          \                \"actual_cost\": 0,\r

          \                \"remarks\": \"\",\r

          \                \"created_at\": \"15-09-2023 13:17:30\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                },\r

          \                \"updated_at\": \"15-09-2023 13:17:30\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                }\r

          \            },\r

          \            {\r

          \                \"id\": \"908e839b-c9e7-47a1-90c4-468db5f78740\",\r

          \                \"project_id\": \"291f25a9-43c7-46e4-bef2-048cfc5c3698\",\r

          \                \"rkap_id\": \"2c6ee92d-5427-4253-b5da-891ed0b6f5fb\",\r

          \                \"date\": \"01-09-2023 00:00:00\",\r

          \                \"plan_cost\": 0,\r

          \                \"actual_cost\": 0,\r

          \                \"remarks\": \"\",\r

          \                \"created_at\": \"15-09-2023 13:17:30\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                },\r

          \                \"updated_at\": \"15-09-2023 13:17:30\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                }\r

          \            },\r

          \            {\r

          \                \"id\": \"0d5630f4-0567-43de-899b-500641152590\",\r

          \                \"project_id\": \"291f25a9-43c7-46e4-bef2-048cfc5c3698\",\r

          \                \"rkap_id\": \"2c6ee92d-5427-4253-b5da-891ed0b6f5fb\",\r

          \                \"date\": \"01-10-2023 00:00:00\",\r

          \                \"plan_cost\": 0,\r

          \                \"actual_cost\": 0,\r

          \                \"remarks\": \"\",\r

          \                \"created_at\": \"15-09-2023 13:17:30\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                },\r

          \                \"updated_at\": \"15-09-2023 13:17:30\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                }\r

          \            },\r

          \            {\r

          \                \"id\": \"7db42b4e-e97f-4698-ace6-6b5849643b2f\",\r

          \                \"project_id\": \"291f25a9-43c7-46e4-bef2-048cfc5c3698\",\r

          \                \"rkap_id\": \"2c6ee92d-5427-4253-b5da-891ed0b6f5fb\",\r

          \                \"date\": \"01-11-2023 00:00:00\",\r

          \                \"plan_cost\": 0,\r

          \                \"actual_cost\": 0,\r

          \                \"remarks\": \"\",\r

          \                \"created_at\": \"15-09-2023 13:17:30\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                },\r

          \                \"updated_at\": \"15-09-2023 13:17:30\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                }\r

          \            },\r

          \            {\r

          \                \"id\": \"a33b9ff5-0e02-41f9-971d-86e265eb7815\",\r

          \                \"project_id\": \"291f25a9-43c7-46e4-bef2-048cfc5c3698\",\r

          \                \"rkap_id\": \"2c6ee92d-5427-4253-b5da-891ed0b6f5fb\",\r

          \                \"date\": \"01-12-2023 00:00:00\",\r

          \                \"plan_cost\": 0,\r

          \                \"actual_cost\": 0,\r

          \                \"remarks\": \"\",\r

          \                \"created_at\": \"15-09-2023 13:17:30\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                },\r

          \                \"updated_at\": \"15-09-2023 13:17:30\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"b279b3e0-0dea-40a0-96c4-97f5b0e49d8a\",\r

          \                    \"full_name\": \"Indra Lasmana\"\r

          \                }\r

          \            }\r

          \        ],\r

          \        \"count\": 12\r

          \    }\r

          }"
  - name: failed
    request:
      url: "{{base_url}}/api/v1/projects/spending-plans?project_id=3e1d9eeb-6e27-4d9e-8e5c-c28ae48ac7a3&rkap_id=d3aa9d73-5656-48ff-a57c-c489c1bce708&sort_column=date&sort_order=ASCX"
      method: GET
      params:
        - name: project_id
          value: 3e1d9eeb-6e27-4d9e-8e5c-c28ae48ac7a3
          type: query
        - name: rkap_id
          value: d3aa9d73-5656-48ff-a57c-c489c1bce708
          type: query
        - name: sort_column
          value: date
          type: query
          description: |-
            id
            project_id
            rkap_id
            date
            plan_cost
            actual_cost
            remarks
            created_at
            created_by
        - name: sort_order
          value: ASCX
          type: query
          description: |-
            ASC
            DESC
    response:
      statusText: "400"
      headers:
        - name: Content-Type
          value: application/json
      body:
        type: json
        data: |-
          {
              "process_time": "0ms",
              "status": "failed",
              "code": "17",
              "message": "Sort Order: must be a valid value.",
              "error_data": {
                  "title": "Failed",
                  "description": "Sort Order: must be a valid value.",
                  "icon": "https://storage.googleapis.com/phi-dev-bucket/assets/failed-icon.png",
                  "primary_text": "OK",
                  "secondary_text": "",
                  "primary_link": "",
                  "secondary_link": "",
                  "dismissed_link": ""
              }
          }
