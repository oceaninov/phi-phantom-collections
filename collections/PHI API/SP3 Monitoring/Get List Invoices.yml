info:
  name: Get List Invoices
  type: http
  seq: 4

http:
  method: GET
  url: "{{base_url}}/api/v1/invoices?search=PT. JAYA ABADI&working_area=PHSS"
  params:
    - name: start_date
      value: 13-02-2024
      type: query
      disabled: true
    - name: end_date
      value: 13-02-2024
      type: query
      disabled: true
    - name: search
      value: PT. JAYA ABADI
      type: query
    - name: working_area
      value: PHSS
      type: query
      description: PHSS|TSS
  auth:
    type: bearer
    token: "{{access_token}}"

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5

examples:
  - name: success
    request:
      url: "{{base_url}}/api/v1/invoices?start_date=13-02-2024&end_date=13-02-2024&search=PT. JAYA ABADI&working_area=TSS"
      method: GET
      params:
        - name: start_date
          value: 13-02-2024
          type: query
        - name: end_date
          value: 13-02-2024
          type: query
        - name: search
          value: PT. JAYA ABADI
          type: query
        - name: working_area
          value: TSS
          type: query
    response:
      statusText: "200"
      headers:
        - name: Content-Type
          value: application/json
      body:
        type: json
        data: "{\r

          \    \"process_time\": \"269ms\",\r

          \    \"status\": \"success\",\r

          \    \"code\": \"\",\r

          \    \"message\": \"Get invoices succeed\",\r

          \    \"data\": {\r

          \        \"list\": [\r

          \            {\r

          \                \"id\": \"bd0ca695-6fa0-491e-a1d9-504a7ec6dafc\",\r

          \                \"invoice_no\": \"INV/PHI00001/2024-02\",\r

          \                \"description\": \"Pekerjaan pipa penyalur\",\r

          \                \"contractor\": {\r

          \                    \"id\": \"01a8849d-1798-4c02-a0bc-9f45913cd0e8\",\r

          \                    \"code\": \"334455\",\r

          \                    \"name\": \"PT. JAYA ABADI\"\r

          \                },\r

          \                \"contract\": {\r

          \                    \"id\": \"2db94cb1-3098-4a07-b051-31c4ff2308ec\",\r

          \                    \"contract_no\": \"55555\",\r

          \                    \"contract_title\": \"Project Aspal Jalan\",\r

          \                    \"contract_value\": \"\"\r

          \                },\r

          \                \"created_at\": \"29-02-2024 13:32:22\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"e8e968e7-77ce-4668-b8d6-fc80e083af67\",\r

          \                    \"full_name\": \"Super Admin\",\r

          \                    \"status\": \"\"\r

          \                },\r

          \                \"updated_at\": \"29-02-2024 13:32:22\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"e8e968e7-77ce-4668-b8d6-fc80e083af67\",\r

          \                    \"full_name\": \"Super Admin\",\r

          \                    \"status\": \"\"\r

          \                }\r

          \            },\r

          \            {\r

          \                \"id\": \"ba4075c2-7d13-459c-8e6f-6c4901d3089b\",\r

          \                \"invoice_no\": \"INV/PHI00001/2024-02\",\r

          \                \"description\": \"Pekerjaan pipa penyalur (edited)\",\r

          \                \"contractor\": {\r

          \                    \"id\": \"01a8849d-1798-4c02-a0bc-9f45913cd0e8\",\r

          \                    \"code\": \"334455\",\r

          \                    \"name\": \"PT. JAYA ABADI\"\r

          \                },\r

          \                \"contract\": {\r

          \                    \"id\": \"2db94cb1-3098-4a07-b051-31c4ff2308ec\",\r

          \                    \"contract_no\": \"55555\",\r

          \                    \"contract_title\": \"Project Aspal Jalan\",\r

          \                    \"contract_value\": \"\"\r

          \                },\r

          \                \"created_at\": \"28-02-2024 22:06:38\",\r

          \                \"created_by\": {\r

          \                    \"id\": \"e8e968e7-77ce-4668-b8d6-fc80e083af67\",\r

          \                    \"full_name\": \"Super Admin\",\r

          \                    \"status\": \"\"\r

          \                },\r

          \                \"updated_at\": \"29-02-2024 13:32:57\",\r

          \                \"updated_by\": {\r

          \                    \"id\": \"e8e968e7-77ce-4668-b8d6-fc80e083af67\",\r

          \                    \"full_name\": \"Super Admin\",\r

          \                    \"status\": \"\"\r

          \                }\r

          \            }\r

          \        ],\r

          \        \"count\": 2\r

          \    }\r

          }"
  - name: failed
    request:
      url: "{{base_url}}/api/v1/invoices?start_date=2024-02-13&end_date=13-02-2024&search=PT. JAYA ABADI&working_area=TSS"
      method: GET
      params:
        - name: start_date
          value: 2024-02-13
          type: query
        - name: end_date
          value: 13-02-2024
          type: query
        - name: search
          value: PT. JAYA ABADI
          type: query
        - name: working_area
          value: TSS
          type: query
          description: PHSS|TSS
    response:
      statusText: "400"
      headers:
        - name: Content-Type
          value: application/json
      body:
        type: json
        data: |-
          {
              "process_time": "0ms",
              "status": "failed",
              "code": "17",
              "message": "Start Date: Invalid format (02-01-2006).",
              "error_data": {
                  "title": "Failed",
                  "description": "Start Date: Invalid format (02-01-2006).",
                  "icon": "https://storage.googleapis.com/phi-dev-bucket/assets/failed-icon.png",
                  "primary_text": "OK",
                  "secondary_text": "",
                  "primary_link": "",
                  "secondary_link": "",
                  "dismissed_link": ""
              }
          }
