info:
  name: Get Invoice By ID
  type: http
  seq: 3

http:
  method: GET
  url: "{{base_url}}/api/v1/invoices/:invoiceID"
  params:
    - name: ""
      value: ""
      type: query
      disabled: true
    - name: invoiceID
      value: b4154cbf-e55c-4303-a4aa-9712ddc1a8c9
      type: path
      description: 8a09505b-f79f-4b4b-b26d-a86088501b87
  auth:
    type: bearer
    token: "{{access_token}}"

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5

examples:
  - name: data not found
    request:
      url: "{{base_url}}/api/v1/invoices/ba4075c2-7d13-459c-8e6f-6c4901d3089b"
      method: GET
    response:
      statusText: "404"
      body:
        type: text
        data: "{\r

          \    \"process_time\": \"4ms\",\r

          \    \"status\": \"failed\",\r

          \    \"code\": \"05\",\r

          \    \"message\": \"Data not found\",\r

          \    \"error_data\": {\r

          \        \"title\": \"Failed\",\r

          \        \"description\": \"Data not found\",\r

          \        \"icon\": \"https://storage.googleapis.com/phi-dev-bucket/assets/failed-icon.png\",\r

          \        \"primary_text\": \"OK\",\r

          \        \"secondary_text\": \"\",\r

          \        \"primary_link\": \"\",\r

          \        \"secondary_link\": \"\",\r

          \        \"dismissed_link\": \"\"\r

          \    }\r

          }"
  - name: failed
    request:
      url: "{{base_url}}/api/v1/invoices/ba4075c2-7d13-459c-8e6f-6c4901d3089bcc"
      method: GET
    response:
      statusText: "400"
      headers:
        - name: Content-Type
          value: application/json
      body:
        type: json
        data: |-
          {
              "process_time": "0ms",
              "status": "failed",
              "code": "17",
              "message": "ID: must be a valid UUID.",
              "error_data": {
                  "title": "Failed",
                  "description": "ID: must be a valid UUID.",
                  "icon": "https://storage.googleapis.com/phi-dev-bucket/assets/failed-icon.png",
                  "primary_text": "OK",
                  "secondary_text": "",
                  "primary_link": "",
                  "secondary_link": "",
                  "dismissed_link": ""
              }
          }
  - name: sucess retention only
    request:
      url: "{{base_url}}/api/v1/invoices/:invoiceID"
      method: GET
      params:
        - name: ""
          value: ""
          type: query
          disabled: true
        - name: invoiceID
          value: 8a09505b-f79f-4b4b-b26d-a86088501b87
          type: path
          description: 8a09505b-f79f-4b4b-b26d-a86088501b87
    response:
      statusText: "200"
      headers:
        - name: Content-Type
          value: application/json; charset=UTF-8
        - name: Vary
          value: Origin
        - name: Date
          value: Fri, 21 Jun 2024 10:23:56 GMT
        - name: Content-Length
          value: "1748"
      body:
        type: json
        data: |-
          {
              "process_time": "51ms",
              "status": "success",
              "code": "",
              "message": "Get invoice succeed",
              "data": {
                  "id": "8a09505b-f79f-4b4b-b26d-a86088501b87",
                  "invoice_no": "INV/PHI00025/2024-06",
                  "invoice_date": "12-03-2024",
                  "invoice_from": "Manager Project Zona 9",
                  "invoice_to": "Manager Finance Accounting",
                  "receipt": "123485",
                  "tax_invoice": "1245",
                  "bast_no": "017/BAST/PHSS/MEI/K/23",
                  "description": "Pembayaran retensi SPK",
                  "currency": "idr",
                  "sa_amount": "0.00",
                  "retention_amount": "600000.00",
                  "service_acceptances": [],
                  "contractor": {
                      "id": "01a8849d-1798-4c02-a0bc-9f45913cd0e8",
                      "code": "334455",
                      "name": "PT. JAYA ABADI"
                  },
                  "contract": {
                      "id": "ab161bc0-0741-4b16-9a73-0b55a39c9899",
                      "contract_no": "445559",
                      "contract_title": "Contract Demo",
                      "contract_value": "1000000000.00",
                      "autogenerated_spk_number": false
                  },
                  "bank": {
                      "id": "3c61c7b8-a664-4565-ac55-e86a6890b7b9",
                      "code": "008",
                      "name": "BANK MANDIRI",
                      "bank_branch": "Jakarta",
                      "bank_key": "3321",
                      "bank_account_name": "Jaya abadi"
                  },
                  "cost_reductions": [],
                  "additional_costs": [],
                  "attachments": [
                      {
                          "id": "48a882a6-220f-44f3-9324-0831c5e8c381",
                          "file_name": "Integration Project Management System Privacy Policy.pdf",
                          "description": "PHI TnC",
                          "file_url": "https://storage.googleapis.com/phi-dev-bucket/assets/67b51ad7-4e1f-4222-94d6-47f65193d73d_6CC9C0066C0A620E.pdf"
                      }
                  ],
                  "created_at": "21-06-2024 11:20:21",
                  "created_by": {
                      "id": "7ae8e931-1628-4562-bf24-1c2cdd2b4cf4",
                      "full_name": "Dany M Pradana",
                      "status": ""
                  },
                  "updated_at": "21-06-2024 11:20:21",
                  "updated_by": {
                      "id": "7ae8e931-1628-4562-bf24-1c2cdd2b4cf4",
                      "full_name": "Dany M Pradana",
                      "status": ""
                  },
                  "retentions": [
                      {
                          "id": "31615694-85a4-4249-894b-d4abb26482cc",
                          "retention_percentage": "10.00",
                          "retention_amount": "600000.00",
                          "status": "paid",
                          "spk_id": "c318b810-0068-4c31-bd9e-5b70a8c7af63",
                          "spk_no": "001/SPK/445559/PPZ9/2024"
                      }
                  ]
              }
          }
  - name: success
    request:
      url: "{{base_url}}/api/v1/invoices/:invoiceID"
      method: GET
      params:
        - name: ""
          value: ""
          type: query
          disabled: true
        - name: invoiceID
          value: 177fa394-f6b0-4052-b92a-3e4fec3f7832
          type: path
          description: 8a09505b-f79f-4b4b-b26d-a86088501b87
    response:
      statusText: "200"
      headers:
        - name: Content-Type
          value: application/json; charset=UTF-8
        - name: Vary
          value: Origin
        - name: Date
          value: Tue, 02 Jul 2024 02:41:22 GMT
        - name: Content-Length
          value: "1372"
      body:
        type: json
        data: |-
          {
              "process_time": "288ms",
              "status": "success",
              "code": "",
              "message": "Get invoice succeed",
              "data": {
                  "id": "177fa394-f6b0-4052-b92a-3e4fec3f7832",
                  "invoice_no": "INV/PHI00026/2024-06",
                  "invoice_date": "01-06-2024",
                  "invoice_from": "diyank",
                  "invoice_to": "PHI",
                  "receipt": "Inv-1990",
                  "tax_invoice": "1666/Inv-1990",
                  "bast_no": "BAST 1999",
                  "description": "Test",
                  "currency": "idr",
                  "sa_amount": "9000.00",
                  "retention_amount": "0.00",
                  "service_acceptances": [
                      {
                          "id": "21e6a8cb-fbd0-477e-b564-e6aef1dd03e7",
                          "service_acceptance_id": "d76de87d-8dd8-4120-9b76-634918100adf",
                          "sa_no": "SA1000265221",
                          "sa_amount": "9000"
                      }
                  ],
                  "contractor": {
                      "id": "01a8849d-1798-4c02-a0bc-9f45913cd0e8",
                      "code": "334455",
                      "name": "PT. JAYA ABADI"
                  },
                  "contract": {
                      "id": "ab161bc0-0741-4b16-9a73-0b55a39c9899",
                      "contract_no": "445559",
                      "contract_title": "Contract Demo",
                      "contract_value": "1000000000.00",
                      "autogenerated_spk_number": false,
                      "retention_percentage": "5.00"
                  },
                  "bank": {
                      "id": "3c61c7b8-a664-4565-ac55-e86a6890b7b9",
                      "code": "008",
                      "name": "BANK MANDIRI",
                      "bank_branch": "Jakarta",
                      "bank_key": "3321",
                      "bank_account_name": "Jaya abadi"
                  },
                  "cost_reductions": [],
                  "additional_costs": [],
                  "attachments": [],
                  "created_at": "13-06-2024 15:45:19",
                  "created_by": {
                      "id": "b1ac6b1c-1727-4cc2-86f2-e4a2140b44cb",
                      "full_name": "Apri Ega",
                      "status": ""
                  },
                  "updated_at": "21-06-2024 09:56:33",
                  "updated_by": {
                      "id": "e8e968e7-77ce-4668-b8d6-fc80e083af67",
                      "full_name": "Super Admin",
                      "status": ""
                  }
              }
          }
