info:
  name: Get List SPK
  type: http
  seq: 3

http:
  method: GET
  url: "{{base_url}}/api/v1/spks?page=1&page_size=10&sort_column=created_at&sort_order=ASC"
  params:
    - name: page
      value: "1"
      type: query
    - name: page_size
      value: "10"
      type: query
    - name: sort_column
      value: created_at
      type: query
    - name: sort_order
      value: ASC
      type: query
    - name: contract_id
      value: 8181ffd8-1a86-4040-844d-228e4258930b
      type: query
      disabled: true
    - name: search
      value: 008/SPK/0108202301/PPZ9/2023
      type: query
      description: |-
        spk_no
        spk_title
      disabled: true
    - name: status
      value: released
      type: query
      description: draft|on hold|released|canceled|finished|finished with note
      disabled: true
    - name: start_date
      value: 11-10-2023
      type: query
      disabled: true
    - name: end_date
      value: 31-10-2023
      type: query
      disabled: true
    - name: project_id
      value: 20bbe9c2-097a-4e75-96be-a0ca777189db
      type: query
      disabled: true
  auth:
    type: bearer
    token: "{{access_token}}"

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5

examples:
  - name: failed
    request:
      url: "{{base_url}}/api/v1/spks?page=1&page_size=10&sort_column=created_at&sort_order=ASCX"
      method: GET
      params:
        - name: page
          value: "1"
          type: query
        - name: page_size
          value: "10"
          type: query
        - name: sort_column
          value: created_at
          type: query
        - name: sort_order
          value: ASCX
          type: query
        - name: contract_id
          value: 8181ffd8-1a86-4040-844d-228e4258930b
          type: query
          disabled: true
        - name: search
          value: 008/SPK/0108202301/PPZ9/2023
          type: query
          description: |-
            spk_no
            spk_title
          disabled: true
        - name: status
          value: released
          type: query
          description: draft|on hold|released|canceled|finished|finished with note
          disabled: true
        - name: start_date
          value: 11-10-2023
          type: query
          disabled: true
        - name: end_date
          value: 31-10-2023
          type: query
          disabled: true
        - name: project_id
          value: 20bbe9c2-097a-4e75-96be-a0ca777189db
          type: query
          disabled: true
    response:
      statusText: "400"
      headers:
        - name: Content-Type
          value: application/json
      body:
        type: json
        data: |-
          {
              "process_time": "0ms",
              "status": "failed",
              "code": "17",
              "message": "Sort Order: must be a valid value.",
              "error_data": {
                  "title": "Failed",
                  "description": "Sort Order: must be a valid value.",
                  "icon": "https://storage.googleapis.com/phi-dev-bucket/assets/failed-icon.png",
                  "primary_text": "OK",
                  "secondary_text": "",
                  "primary_link": "",
                  "secondary_link": "",
                  "dismissed_link": ""
              }
          }
  - name: success
    request:
      url: "{{base_url}}/api/v1/spks?page=1&page_size=10&sort_column=created_at&sort_order=ASC"
      method: GET
      params:
        - name: page
          value: "1"
          type: query
        - name: page_size
          value: "10"
          type: query
        - name: sort_column
          value: created_at
          type: query
        - name: sort_order
          value: ASC
          type: query
        - name: contract_id
          value: 8181ffd8-1a86-4040-844d-228e4258930b
          type: query
          disabled: true
        - name: search
          value: 008/SPK/0108202301/PPZ9/2023
          type: query
          description: |-
            spk_no
            spk_title
          disabled: true
        - name: status
          value: released
          type: query
          description: draft|on hold|released|canceled|finished|finished with note
          disabled: true
        - name: start_date
          value: 11-10-2023
          type: query
          disabled: true
        - name: end_date
          value: 31-10-2023
          type: query
          disabled: true
        - name: project_id
          value: 20bbe9c2-097a-4e75-96be-a0ca777189db
          type: query
          disabled: true
    response:
      statusText: "200"
      headers:
        - name: Content-Type
          value: application/json; charset=UTF-8
        - name: Vary
          value: Origin
        - name: Date
          value: Thu, 21 Dec 2023 09:01:13 GMT
        - name: Transfer-Encoding
          value: chunked
      body:
        type: json
        data: |-
          {
              "process_time": "329ms",
              "status": "success",
              "code": "",
              "message": "Get spks succeed",
              "data": {
                  "list": [
                      {
                          "id": "fb060729-db4f-4618-a738-e1062bff8fc3",
                          "contract": {
                              "id": "392031e6-308e-4507-a7ee-c1e4d70a9bee",
                              "contract_no": "1231231111",
                              "contract_title": "",
                              "contract_value": ""
                          },
                          "ro": [
                              {
                                  "id": "0874d22a-06bd-4840-8733-f342360fda0d",
                                  "ro_no": "112"
                              }
                          ],
                          "spk_no": "001/SPK/1231231111/PPZ9/2023",
                          "spk_title": "test",
                          "start_date": "05-12-2023",
                          "end_date": "13-12-2023",
                          "spk_value": "1600000.00",
                          "final_spk_value": "0.00",
                          "physical_progress_value": "800000.00",
                          "physical_progress_percentage": "50.00",
                          "remark": "",
                          "version": 1,
                          "pekerjaan": "iya",
                          "masa_pemeliharaan": "Sesuai ketentuan dalam kontrak",
                          "cost_element": "",
                          "status": "on hold",
                          "created_at": "05-12-2023 11:01:36",
                          "created_by": {
                              "id": "b1ac6b1c-1727-4cc2-86f2-e4a2140b44cb",
                              "full_name": "Apri Ega"
                          },
                          "updated_at": "07-12-2023 08:58:47",
                          "updated_by": {
                              "id": "7ae8e931-1628-4562-bf24-1c2cdd2b4cf4",
                              "full_name": "Dany M Pradana"
                          },
                          "approved_at": "05-12-2023 11:02:04",
                          "approved_by": {
                              "id": "b1ac6b1c-1727-4cc2-86f2-e4a2140b44cb",
                              "full_name": "Apri Ega"
                          },
                          "released_at": "05-12-2023 11:02:04",
                          "released_by": {
                              "id": "b1ac6b1c-1727-4cc2-86f2-e4a2140b44cb",
                              "full_name": "Apri Ega"
                          },
                          "field_inspectors": [
                              {
                                  "id": "e85150eb-d10c-4435-b695-a519f1c7d3cd",
                                  "full_name": "Diyank Shabira"
                              }
                          ],
                          "approvers": null
                      },
                      {
                          "id": "e694fd9c-41c6-49ed-a301-a1f09e17c057",
                          "contract": {
                              "id": "c52806d0-c054-4901-b51b-62de243ac718",
                              "contract_no": "4710007207",
                              "contract_title": "",
                              "contract_value": ""
                          },
                          "ro": [
                              {
                                  "id": "e558ef2e-2dce-4e92-9f31-d32cb1d22371",
                                  "ro_no": "334"
                              }
                          ],
                          "spk_no": "001/SPK/4710007207/PPZ9/2023",
                          "spk_title": "testing",
                          "start_date": "08-12-2023",
                          "end_date": "08-02-2024",
                          "spk_value": "12062500.00",
                          "final_spk_value": "0.00",
                          "physical_progress_value": "140625.00",
                          "physical_progress_percentage": "1.17",
                          "remark": "",
                          "version": 1,
                          "pekerjaan": "Manager",
                          "masa_pemeliharaan": "Sesuai ketentuan dalam kontrak",
                          "cost_element": "",
                          "status": "released",
                          "created_at": "08-12-2023 13:59:23",
                          "created_by": {
                              "id": "b1ac6b1c-1727-4cc2-86f2-e4a2140b44cb",
                              "full_name": "Apri Ega"
                          },
                          "updated_at": "11-12-2023 09:48:54",
                          "updated_by": {
                              "id": "b1ac6b1c-1727-4cc2-86f2-e4a2140b44cb",
                              "full_name": "Apri Ega"
                          },
                          "approved_at": "",
                          "approved_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "released_at": "08-12-2023 15:06:32",
                          "released_by": {
                              "id": "b1ac6b1c-1727-4cc2-86f2-e4a2140b44cb",
                              "full_name": "Apri Ega"
                          },
                          "field_inspectors": [
                              {
                                  "id": "e85150eb-d10c-4435-b695-a519f1c7d3cd",
                                  "full_name": "Diyank Shabira"
                              },
                              {
                                  "id": "2aac1b78-0e80-449b-a28d-d5025caa3003",
                                  "full_name": "Field Inspector AE"
                              },
                              {
                                  "id": "cbe1de24-8507-4a32-9c18-6466d6728e94",
                                  "full_name": "QA Field Inspector"
                              }
                          ],
                          "approvers": null
                      },
                      {
                          "id": "a8ea5618-77d5-4020-a5f9-4d0ad61a05d8",
                          "contract": {
                              "id": "392031e6-308e-4507-a7ee-c1e4d70a9bee",
                              "contract_no": "1231231111",
                              "contract_title": "",
                              "contract_value": ""
                          },
                          "ro": [
                              {
                                  "id": "b015353e-14da-484f-b58e-bb8b70b9334c",
                                  "ro_no": "555"
                              }
                          ],
                          "spk_no": "002/SPK/1231231111/PPZ9/2023",
                          "spk_title": "Test revise spk",
                          "start_date": "08-12-2023",
                          "end_date": "28-12-2023",
                          "spk_value": "2500000.00",
                          "final_spk_value": "0.00",
                          "physical_progress_value": "0.00",
                          "physical_progress_percentage": "0.00",
                          "remark": "",
                          "version": 1,
                          "pekerjaan": "test",
                          "masa_pemeliharaan": "Sesuai ketentuan dalam kontrak",
                          "cost_element": "",
                          "status": "draft",
                          "created_at": "08-12-2023 17:11:41",
                          "created_by": {
                              "id": "b1ac6b1c-1727-4cc2-86f2-e4a2140b44cb",
                              "full_name": "Apri Ega"
                          },
                          "updated_at": "11-12-2023 09:28:57",
                          "updated_by": {
                              "id": "76b2cda5-023b-4d40-880a-beacffa41c1a",
                              "full_name": "AEka"
                          },
                          "approved_at": "",
                          "approved_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "released_at": "",
                          "released_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "field_inspectors": [
                              {
                                  "id": "cbe1de24-8507-4a32-9c18-6466d6728e94",
                                  "full_name": "QA Field Inspector"
                              },
                              {
                                  "id": "e85150eb-d10c-4435-b695-a519f1c7d3cd",
                                  "full_name": "Diyank Shabira"
                              }
                          ],
                          "approvers": null
                      },
                      {
                          "id": "e8617559-7f0a-416e-858d-230ad7af7f15",
                          "contract": {
                              "id": "c52806d0-c054-4901-b51b-62de243ac718",
                              "contract_no": "4710007207",
                              "contract_title": "",
                              "contract_value": ""
                          },
                          "ro": [
                              {
                                  "id": "6265d577-d4ae-462d-8384-cf95aab1c9f9",
                                  "ro_no": "1"
                              }
                          ],
                          "spk_no": "002/SPK/4710007207/PPZ9/2023",
                          "spk_title": "test add spk, calc remaining contract value",
                          "start_date": "01-07-2023",
                          "end_date": "01-10-2023",
                          "spk_value": "213182000.00",
                          "final_spk_value": "0.00",
                          "physical_progress_value": "0.00",
                          "physical_progress_percentage": "0.00",
                          "remark": "",
                          "version": 1,
                          "pekerjaan": "",
                          "masa_pemeliharaan": "Sesuai ketentuan dalam kontrak",
                          "cost_element": "",
                          "status": "draft",
                          "created_at": "11-12-2023 09:50:23",
                          "created_by": {
                              "id": "a4b047b1-457f-4d7a-911e-94aa908a3132",
                              "full_name": "Rinaldy"
                          },
                          "updated_at": "11-12-2023 09:50:23",
                          "updated_by": {
                              "id": "a4b047b1-457f-4d7a-911e-94aa908a3132",
                              "full_name": "Rinaldy"
                          },
                          "approved_at": "",
                          "approved_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "released_at": "",
                          "released_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "field_inspectors": [
                              {
                                  "id": "3e912a94-c505-4794-ae69-aa791364cbc4",
                                  "full_name": "test add"
                              }
                          ],
                          "approvers": null
                      },
                      {
                          "id": "4d04e2c0-8bd6-483d-810a-0c1fea7c746a",
                          "contract": {
                              "id": "392031e6-308e-4507-a7ee-c1e4d70a9bee",
                              "contract_no": "1231231111",
                              "contract_title": "",
                              "contract_value": ""
                          },
                          "ro": [
                              {
                                  "id": "d07fbbcd-31f9-4f4d-ae35-67cd6b3c41b6",
                                  "ro_no": "111223"
                              }
                          ],
                          "spk_no": "003/SPK/1231231111/PPZ9/2023",
                          "spk_title": "SPK for test project task enhancement",
                          "start_date": "11-12-2023",
                          "end_date": "18-12-2023",
                          "spk_value": "2500000.00",
                          "final_spk_value": "0.00",
                          "physical_progress_value": "0.00",
                          "physical_progress_percentage": "0.00",
                          "remark": "",
                          "version": 1,
                          "pekerjaan": "Pekerjaan",
                          "masa_pemeliharaan": "Sesuai ketentuan dalam kontrak",
                          "cost_element": "",
                          "status": "draft",
                          "created_at": "11-12-2023 19:47:22",
                          "created_by": {
                              "id": "87f3d131-8d74-446d-bef9-d0d263dcb325",
                              "full_name": "Yudhi Pratama"
                          },
                          "updated_at": "11-12-2023 19:47:22",
                          "updated_by": {
                              "id": "87f3d131-8d74-446d-bef9-d0d263dcb325",
                              "full_name": "Yudhi Pratama"
                          },
                          "approved_at": "",
                          "approved_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "released_at": "",
                          "released_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "field_inspectors": [
                              {
                                  "id": "cbe1de24-8507-4a32-9c18-6466d6728e94",
                                  "full_name": "QA Field Inspector"
                              }
                          ],
                          "approvers": null
                      },
                      {
                          "id": "fa0aa042-8564-4858-914f-07b4fcb7e23b",
                          "contract": {
                              "id": "2beb3f42-beb7-4a7e-81dc-96ddc8ba27fc",
                              "contract_no": "0001800513",
                              "contract_title": "",
                              "contract_value": ""
                          },
                          "ro": [
                              {
                                  "id": "4b3b67e9-e4e1-4b9e-9626-5a4ea30cc90f",
                                  "ro_no": "338"
                              }
                          ],
                          "spk_no": "001/SPK/0001800513/PPZ9/2023",
                          "spk_title": "Test",
                          "start_date": "11-12-2023",
                          "end_date": "26-12-2023",
                          "spk_value": "43296750.00",
                          "final_spk_value": "0.00",
                          "physical_progress_value": "0.00",
                          "physical_progress_percentage": "0.00",
                          "remark": "",
                          "version": 1,
                          "pekerjaan": "lepas",
                          "masa_pemeliharaan": "Sesuai ketentuan dalam kontrak",
                          "cost_element": "",
                          "status": "draft",
                          "created_at": "12-12-2023 09:24:15",
                          "created_by": {
                              "id": "e85150eb-d10c-4435-b695-a519f1c7d3cd",
                              "full_name": "Diyank Shabira"
                          },
                          "updated_at": "12-12-2023 09:24:15",
                          "updated_by": {
                              "id": "e85150eb-d10c-4435-b695-a519f1c7d3cd",
                              "full_name": "Diyank Shabira"
                          },
                          "approved_at": "",
                          "approved_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "released_at": "",
                          "released_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "field_inspectors": [
                              {
                                  "id": "cbe1de24-8507-4a32-9c18-6466d6728e94",
                                  "full_name": "QA Field Inspector"
                              }
                          ],
                          "approvers": null
                      },
                      {
                          "id": "147f6bc4-838b-4d1e-8196-00986ecd8f9d",
                          "contract": {
                              "id": "392031e6-308e-4507-a7ee-c1e4d70a9bee",
                              "contract_no": "1231231111",
                              "contract_title": "",
                              "contract_value": ""
                          },
                          "ro": [
                              {
                                  "id": "3e372f34-5b5e-4628-9236-fe80896f2c1d",
                                  "ro_no": "223"
                              }
                          ],
                          "spk_no": "004/SPK/1231231111/PPZ9/2023",
                          "spk_title": "test2",
                          "start_date": "05-12-2023",
                          "end_date": "25-12-2023",
                          "spk_value": "5750000.00",
                          "final_spk_value": "0.00",
                          "physical_progress_value": "0.00",
                          "physical_progress_percentage": "0.00",
                          "remark": "",
                          "version": 1,
                          "pekerjaan": "renang",
                          "masa_pemeliharaan": "Sesuai ketentuan dalam kontrak",
                          "cost_element": "",
                          "status": "draft",
                          "created_at": "12-12-2023 09:57:59",
                          "created_by": {
                              "id": "e85150eb-d10c-4435-b695-a519f1c7d3cd",
                              "full_name": "Diyank Shabira"
                          },
                          "updated_at": "12-12-2023 09:57:59",
                          "updated_by": {
                              "id": "e85150eb-d10c-4435-b695-a519f1c7d3cd",
                              "full_name": "Diyank Shabira"
                          },
                          "approved_at": "",
                          "approved_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "released_at": "",
                          "released_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "field_inspectors": [
                              {
                                  "id": "cbe1de24-8507-4a32-9c18-6466d6728e94",
                                  "full_name": "QA Field Inspector"
                              }
                          ],
                          "approvers": null
                      },
                      {
                          "id": "95e996e2-3bb1-42dc-991f-47fc09645115",
                          "contract": {
                              "id": "2beb3f42-beb7-4a7e-81dc-96ddc8ba27fc",
                              "contract_no": "0001800513",
                              "contract_title": "",
                              "contract_value": ""
                          },
                          "ro": [
                              {
                                  "id": "0f5925a5-810d-4619-be74-c27c7a96fe09",
                                  "ro_no": "667"
                              }
                          ],
                          "spk_no": "002/SPK/0001800513/PPZ9/2023",
                          "spk_title": "test spk export",
                          "start_date": "12-12-2023",
                          "end_date": "25-12-2023",
                          "spk_value": "637780500.00",
                          "final_spk_value": "0.00",
                          "physical_progress_value": "0.00",
                          "physical_progress_percentage": "0.00",
                          "remark": "",
                          "version": 1,
                          "pekerjaan": "yy",
                          "masa_pemeliharaan": "Sesuai ketentuan dalam kontrak",
                          "cost_element": "",
                          "status": "draft",
                          "created_at": "12-12-2023 10:28:28",
                          "created_by": {
                              "id": "e85150eb-d10c-4435-b695-a519f1c7d3cd",
                              "full_name": "Diyank Shabira"
                          },
                          "updated_at": "12-12-2023 10:28:28",
                          "updated_by": {
                              "id": "e85150eb-d10c-4435-b695-a519f1c7d3cd",
                              "full_name": "Diyank Shabira"
                          },
                          "approved_at": "",
                          "approved_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "released_at": "",
                          "released_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "field_inspectors": [
                              {
                                  "id": "2aac1b78-0e80-449b-a28d-d5025caa3003",
                                  "full_name": "Field Inspector AE"
                              },
                              {
                                  "id": "cbe1de24-8507-4a32-9c18-6466d6728e94",
                                  "full_name": "QA Field Inspector"
                              }
                          ],
                          "approvers": null
                      },
                      {
                          "id": "010452f2-d9da-4adf-81c6-8f5e210ea277",
                          "contract": {
                              "id": "a74e0251-a9e2-4d0f-8fbf-65c2c6913e9a",
                              "contract_no": "PT. TSS",
                              "contract_title": "",
                              "contract_value": ""
                          },
                          "ro": [
                              {
                                  "id": "65b79ebe-d4ec-4b00-92fd-eea88aa0c32b",
                                  "ro_no": "8890"
                              }
                          ],
                          "spk_no": "001/SPK/PT. TSS/PPZ9/2023",
                          "spk_title": "test tss",
                          "start_date": "06-12-2023",
                          "end_date": "25-12-2023",
                          "spk_value": "7500000.00",
                          "final_spk_value": "0.00",
                          "physical_progress_value": "0.00",
                          "physical_progress_percentage": "0.00",
                          "remark": "",
                          "version": 1,
                          "pekerjaan": "kuli",
                          "masa_pemeliharaan": "Sesuai ketentuan dalam kontrak",
                          "cost_element": "",
                          "status": "canceled",
                          "created_at": "12-12-2023 10:38:32",
                          "created_by": {
                              "id": "e85150eb-d10c-4435-b695-a519f1c7d3cd",
                              "full_name": "Diyank Shabira"
                          },
                          "updated_at": "12-12-2023 13:22:11",
                          "updated_by": {
                              "id": "7ae8e931-1628-4562-bf24-1c2cdd2b4cf4",
                              "full_name": "Dany M Pradana"
                          },
                          "approved_at": "",
                          "approved_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "released_at": "",
                          "released_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "field_inspectors": [
                              {
                                  "id": "2aac1b78-0e80-449b-a28d-d5025caa3003",
                                  "full_name": "Field Inspector AE"
                              }
                          ],
                          "approvers": null
                      },
                      {
                          "id": "900fd5be-5c31-4e75-9acb-0496fae46aa3",
                          "contract": {
                              "id": "392031e6-308e-4507-a7ee-c1e4d70a9bee",
                              "contract_no": "1231231111",
                              "contract_title": "",
                              "contract_value": ""
                          },
                          "ro": [
                              {
                                  "id": "d883684e-744b-4833-a49e-0342351338fc",
                                  "ro_no": "2365264"
                              }
                          ],
                          "spk_no": "005/SPK/1231231111/PPZ9/2023",
                          "spk_title": "SPK Benerin approval ",
                          "start_date": "08-12-2023",
                          "end_date": "31-12-2023",
                          "spk_value": "6637500.00",
                          "final_spk_value": "0.00",
                          "physical_progress_value": "0.00",
                          "physical_progress_percentage": "0.00",
                          "remark": "Testing cuy",
                          "version": 1,
                          "pekerjaan": "Inspector",
                          "masa_pemeliharaan": "Sesuai ketentuan dalam kontrak",
                          "cost_element": "",
                          "status": "canceled",
                          "created_at": "12-12-2023 13:29:49",
                          "created_by": {
                              "id": "76b2cda5-023b-4d40-880a-beacffa41c1a",
                              "full_name": "AEka"
                          },
                          "updated_at": "12-12-2023 14:50:22",
                          "updated_by": {
                              "id": "76b2cda5-023b-4d40-880a-beacffa41c1a",
                              "full_name": "AEka"
                          },
                          "approved_at": "",
                          "approved_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "released_at": "",
                          "released_by": {
                              "id": "",
                              "full_name": ""
                          },
                          "field_inspectors": [
                              {
                                  "id": "3e912a94-c505-4794-ae69-aa791364cbc4",
                                  "full_name": "test add"
                              },
                              {
                                  "id": "39b57783-96d0-47e8-bac5-cc8939a5f647",
                                  "full_name": "Alifia Astari"
                              },
                              {
                                  "id": "888a5e8a-6fb8-4b31-b279-4c75e69c231d",
                                  "full_name": "Pia"
                              },
                              {
                                  "id": "2aac1b78-0e80-449b-a28d-d5025caa3003",
                                  "full_name": "Field Inspector AE"
                              },
                              {
                                  "id": "cbe1de24-8507-4a32-9c18-6466d6728e94",
                                  "full_name": "QA Field Inspector"
                              }
                          ],
                          "approvers": null
                      }
                  ],
                  "count": 58
              }
          }
