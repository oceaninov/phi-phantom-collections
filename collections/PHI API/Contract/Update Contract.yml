info:
  name: Update Contract
  type: http
  seq: 10

http:
  method: PUT
  url: "{{base_url}}/api/v1/contracts/40ccc42c-df67-4ef3-beb0-814149479962"
  body:
    type: json
    data: "{\r

      \    \"contractor_id\": \"a53dcb7e-a34d-4152-8a61-32b2d8aae261\",\r

      \    \"contract_working_area\": \"PHSS\",\r

      \    \"contract_no\": \"ContractTestRetention\",\r

      \    \"contract_title\": \"Contract Test Retention\",\r

      \    \"contract_types\": [\"Material\"],\r

      \    \"start_date\": \"01-07-2024\",\r

      \    \"contract_end_date\": \"01-07-2025\",\r

      \    \"work_end_date\": \"01-07-2025\",\r

      \    \"contract_value\": 26000000000,\r

      \    \"bank_id\": \"7388c92c-c96f-4b41-bf0b-b345f6671c7b\",\r

      \    \"bank_branch\": \"Jakarta Timur\",\r

      \    \"bank_key\": \"001002003\",\r

      \    \"bank_account_name\": \"Budi\",\r

      \    \"autogenerated_spk_number\": true,\r

      \    \"retention_percentage\": 5\r

      }"
  auth:
    type: bearer
    token: "{{access_token}}"

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5

examples:
  - name: failed data not found
    request:
      url: "{{base_url}}/api/v1/contracts/c94b9d41-9bd3-4d3d-943f-c60e4209d0f8"
      method: PUT
      body:
        type: json
        data: "{\r

          \    \"contractor_id\": \"c6b9139a-d1c0-4995-bdfa-742ee8558c3d\",\r

          \    \"contract_working_area\": \"PHSS\",\r

          \    \"contract_no\": \"C0001\",\r

          \    \"contract_title\": \"Pengeboran minyak 1\",\r

          \    \"start_date\": \"01-05-2022\",\r

          \    \"work_end_date\": \"01-05-2024\",\r

          \    \"contract_end_date\": \"01-05-2024\",\r

          \    \"contract_value\": 2500000000\r

          }"
    response:
      statusText: "404"
      headers:
        - name: Content-Type
          value: application/json; charset=UTF-8
        - name: Vary
          value: Origin
        - name: Date
          value: Thu, 16 Nov 2023 06:42:36 GMT
        - name: Content-Length
          value: "320"
      body:
        type: json
        data: |-
          {
              "process_time": "13ms",
              "status": "failed",
              "code": "05",
              "message": "Data not found",
              "error_data": {
                  "title": "Failed",
                  "description": "Data not found",
                  "icon": "https://storage.googleapis.com/phi-dev-bucket/assets/failed-icon.png",
                  "primary_text": "OK",
                  "secondary_text": "",
                  "primary_link": "",
                  "secondary_link": "",
                  "dismissed_link": ""
              }
          }
  - name: success
    request:
      url: "{{base_url}}/api/v1/contracts/c7240515-4664-4f22-933b-78057dd318b7"
      method: PUT
      body:
        type: json
        data: "{\r

          \    \"contract_working_area\": \"PHSS\",\r

          \    \"contract_title\": \"Test Contract Baru (edit)\",\r

          \    \"contract_types\": [\r

          \        \"Jasa\",\r

          \        \"Material\"\r

          \    ],\r

          \    \"start_date\": \"12-12-2023\",\r

          \    \"work_end_date\": \"31-12-2023\",\r

          \    \"contract_end_date\": \"31-12-2023\",\r

          \    \"contract_value\": 6000000000,\r

          \    \"bank_id\": \"df7c1ca3-9fe8-4bd0-bda1-ed0d16412d3b\",\r

          \    \"bank_branch\": \"ujung berung\",\r

          \    \"bank_key\": \"1234321\",\r

          \    \"bank_account_name\": \"PT. Berca Engineering\"\r

          }"
    response:
      statusText: "200"
      headers:
        - name: Content-Type
          value: application/json; charset=UTF-8
        - name: Vary
          value: Origin
        - name: Date
          value: Thu, 16 Nov 2023 06:56:54 GMT
        - name: Content-Length
          value: "90"
      body:
        type: json
        data: |-
          {
              "process_time": "365ms",
              "status": "success",
              "code": "",
              "message": "Update contract succeed"
          }
  - name: success with retention percentage
    request:
      url: "{{base_url}}/api/v1/contracts/40ccc42c-df67-4ef3-beb0-814149479962"
      method: PUT
      body:
        type: json
        data: "{\r

          \    \"contractor_id\": \"a53dcb7e-a34d-4152-8a61-32b2d8aae261\",\r

          \    \"contract_working_area\": \"PHSS\",\r

          \    \"contract_no\": \"ContractTestRetention\",\r

          \    \"contract_title\": \"Contract Test Retention\",\r

          \    \"contract_types\": [\"Material\"],\r

          \    \"start_date\": \"01-07-2024\",\r

          \    \"contract_end_date\": \"01-07-2025\",\r

          \    \"work_end_date\": \"01-07-2025\",\r

          \    \"contract_value\": 26000000000,\r

          \    \"bank_id\": \"7388c92c-c96f-4b41-bf0b-b345f6671c7b\",\r

          \    \"bank_branch\": \"Jakarta Timur\",\r

          \    \"bank_key\": \"001002003\",\r

          \    \"bank_account_name\": \"Budi\",\r

          \    \"autogenerated_spk_number\": true,\r

          \    \"retention_percentage\": 5\r

          }"
    response:
      statusText: "200"
      headers:
        - name: Content-Type
          value: application/json; charset=UTF-8
        - name: Vary
          value: Origin
        - name: Date
          value: Thu, 13 Jun 2024 04:38:03 GMT
        - name: Content-Length
          value: "90"
      body:
        type: json
        data: |-
          {
              "process_time": "116ms",
              "status": "success",
              "code": "",
              "message": "Update contract succeed"
          }
