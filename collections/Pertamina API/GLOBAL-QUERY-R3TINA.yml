info:
  name: GLOBAL-QUERY-R3TINA
  type: http
  seq: 4

http:
  method: POST
  url: https://api.phss.pertamina.com/proxyrestr3/api-auth-proxy-soa/APIR3tina/ProxyService/globalQueryRest/query
  headers:
    - name: client-id
      value: R3LAX
    - name: client-secret
      value: AScMiHW8plK14fy1EVN7JpfO4t8F0P1y
    - name: realm-name
      value: R3LAX
  body:
    type: json
    data: "{\r

      \    \"QUERYID\": \"99\",\r

      \    \"PARAM\": [\r

      \        {\r

      \            \"PARAMNUMBER\": 1,\r

      \            \"VALUE\": \"63\",\r

      \            \"TYPE\": \"STRING\"\r

      \        }\r

      \    ]\r

      }"
  auth:
    type: bearer
    token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJWZ1BCMDVobV9EbllROWNYOUJSeldOYkpMWFV0T19KTWtmSjJRdVdfQUVrIn0.eyJleHAiOjE3NDA3MjM4OTUsImlhdCI6MTczOTUxNDI5NSwianRpIjoiM2QyOTZjZWItNWM0Yy00Y2I3LTk0OGItODU4YmIxYWU1NzJhIiwiaXNzIjoiaHR0cDovL2ludHJhLnBoaS5wZXJ0YW1pbmEuY29tL3Izb2F1dGgvcmVhbG1zL1IzTEFYIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjQ1Mzk4YjY4LTg0ZGQtNDY2Yy1iYzdjLTEyMTFiOTk2YTkzOSIsInR5cCI6IkJlYXJlciIsImF6cCI6IlIzTEFYIiwic2lkIjoiMGNkNDY1ZWEtNGMzNy00OGY0LTkzOTUtMWNiMTZjNjBmMTVlIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIqIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsImRlZmF1bHQtcm9sZXMtcjNsYXgiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6InIzdGVzdC52aWNlcCIsInByZWZlcnJlZF91c2VybmFtZSI6InIzdGVzdC52aWNlcCIsImdpdmVuX25hbWUiOiJyM3Rlc3QudmljZXAifQ.idNxxAuj7xPN872yfK5o6ZQqA3I_ABhsIWXp7wsopAcgt9qtbBkGSxsq6wfy_Ht_z304WboYbqDLnXgkMfx7TVbfXhawVZDdqgoVQt-w2rL4OerWMRUk8GT5tcYqggkBQY3wD2h0fjKH4iW4-pusFm75pdV7SxZT92weBadtkSHGqIfkmeiB4Azl4_jI72Ky5aCnHilGd9cKoNjT3_OqAfKnNNAcGjQ1qaf7nUD5E_99KrJP50WHy4BSUOlSaFa_9sA6Cc-eH28OLmkUUKI0ydlkmZhiuafMUlD1Qpc2qLOH-bImSQMauIplDNqvdWCTKOPrPAFHtccm8huqqZKj-Q

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5

examples:
  - name: success
    request:
      url: https://api.phss.pertamina.com/proxyrestr3/api-auth-proxy-soa/APIR3tina/ProxyService/globalQueryRest/query
      method: POST
      headers:
        - name: client-id
          value: R3LAX
        - name: client-secret
          value: AScMiHW8plK14fy1EVN7JpfO4t8F0P1y
        - name: realm-name
          value: R3LAX
      body:
        type: json
        data: "{\r

          \    \"QUERYID\": \"99\",\r

          \    \"PARAM\": [\r

          \        {\r

          \            \"PARAMNUMBER\": 1,\r

          \            \"VALUE\": \"sembarang\",\r

          \            \"TYPE\": \"STRING\"\r

          \        },\r

          \        {\r

          \            \"PARAMNUMBER\": 2,\r

          \            \"VALUE\": \"sembarang\",\r

          \            \"TYPE\": \"STRING\"\r

          \        }\r

          \    ]\r

          }"
    response:
      statusText: "200"
      headers:
        - name: Date
          value: Tue, 21 Jan 2025 07:45:39 GMT
        - name: Content-Type
          value: application/json
        - name: X-ORACLE-DMS-ECID
          value: 3045d7d0-5513-4098-aa52-006107508a05-0004d7eb
        - name: X-ORACLE-DMS-RID
          value: "0"
        - name: Vary
          value: Origin,Accept-Encoding,Access-Control-Request-Method,Access-Control-Request-Headers
        - name: Content-Encoding
          value: gzip
        - name: Access-Control-Allow-Origin
          value: "*"
        - name: Content-Length
          value: "403"
        - name: Keep-Alive
          value: timeout=2, max=65
        - name: Connection
          value: Keep-Alive
        - name: Strict-Transport-Security
          value: max-age=16070400; includeSubdomains; preload
      body:
        type: json
        data: |-
          {
              "resultData": [
                  {
                      "ROW": {
                          "@num": "1",
                          "POSID": "100001920",
                          "USERID": "R3TEST.VICEP",
                          "POSNAME": "PROGRAMMER",
                          "PARENTPOSID": "30283865",
                          "SYSTYPE": "APP",
                          "SYSNAME": "IPMS",
                          "SYSROLE": "FIELD-INSPECTOR",
                          "SYSCATEGORY": "ACTING",
                          "URLPATH": "SPK",
                          "COMPONENTID": "Input Progress",
                          "HIDDEN": "0",
                          "READONLY": "0",
                          "DISABLED": "0",
                          "SEQ": "67",
                          "FUNGSI": "INFORMATION TECHNOLOGY",
                          "SUBFUNGSI": "IT BUSINESS SOLUTIONS",
                          "LOCCATEGORY": "OFFICE",
                          "LOCGROUP": "REGIONAL 3",
                          "PAGE": "Input Progress",
                          "EMAIL": "R3TEST.VICEP@PERTAMINA.COM"
                      }
                  },
                  {
                      "ROW": {
                          "@num": "2",
                          "POSID": "100058516",
                          "USERID": "MK.HARI.PRASETYO3",
                          "USERNAME": "Hari Prasetyo",
                          "POSNAME": "LEAD BACK END ENGINEER",
                          "PARENTPOSID": "30239892",
                          "SYSTYPE": "APP",
                          "SYSNAME": "IPMS",
                          "SYSROLE": "FIELD-INSPECTOR",
                          "SYSCATEGORY": "ACTING",
                          "URLPATH": "SPK",
                          "COMPONENTID": "Input Progress",
                          "HIDDEN": "0",
                          "READONLY": "0",
                          "DISABLED": "0",
                          "SEQ": "67",
                          "FUNGSI": "INFORMATION TECHNOLOGY",
                          "SUBFUNGSI": "IT BUSINESS SOLUTIONS",
                          "LOCCATEGORY": "OFFICE",
                          "LOCGROUP": "REGIONAL 3",
                          "PAGE": "Input Progress",
                          "EMAIL": "MK.HARI.PRASETYO3@PERTAMINA.COM"
                      }
                  }
              ]
          }
  - name: query not found
    request:
      url: https://api.phss.pertamina.com/proxyrestr3/api-auth-proxy-soa/APIR3tina/ProxyService/globalQueryRest/query
      method: POST
      headers:
        - name: client-id
          value: R3LAX
        - name: client-secret
          value: AScMiHW8plK14fy1EVN7JpfO4t8F0P1y
        - name: realm-name
          value: R3LAX
      body:
        type: json
        data: "{\r

          \    \"QUERYID\": \"999\",\r

          \    \"PARAM\": [\r

          \        {\r

          \            \"PARAMNUMBER\": 1,\r

          \            \"VALUE\": \"sembarang\",\r

          \            \"TYPE\": \"STRING\"\r

          \        },\r

          \        {\r

          \            \"PARAMNUMBER\": 2,\r

          \            \"VALUE\": \"sembarang\",\r

          \            \"TYPE\": \"STRING\"\r

          \        }\r

          \    ]\r

          }"
    response:
      statusText: "500"
      headers:
        - name: Date
          value: Tue, 21 Jan 2025 07:51:25 GMT
        - name: Content-Type
          value: application/json
        - name: Vary
          value: Origin,Access-Control-Request-Method,Access-Control-Request-Headers
        - name: Access-Control-Allow-Origin
          value: "*"
        - name: Connection
          value: close
        - name: Strict-Transport-Security
          value: max-age=16070400; includeSubdomains; preload
        - name: Transfer-Encoding
          value: chunked
      body:
        type: json
        data: |-
          {
              "timestamp": "2025-01-21T07:51:25.272+0000",
              "status": 500,
              "error": "Internal Server Error",
              "message": "",
              "path": "/proxyrestr3/api-auth-proxy-soa/APIR3tina/ProxyService/globalQueryRest/query"
          }
